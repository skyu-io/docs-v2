import { Callout } from 'nextra/components'
import Image from '../../../../../components/Image'

 
# Pipeline Design

Pipeline Design is the place where you can define the steps for your pipeline. You can define the steps in the pipeline using the YAML configuration. You can also use the visual editor to define the steps in the pipeline.

<Image src="/assets/images/applications/pipeline-design.png" alt="Hello" width={700} height={500}  />

You can add custom steps to the pipeline by clicking on the `Add Step` button. You can also add the steps from the predefined templates by clicking on the `Add from Template` button.

For example, if you want to add unit tests to the pipeline, you can simply add a step to `_status_test` in the pipeline configuration. You can either use the form view or the YAML view to define the steps in the pipeline.

```yaml
name: Unit Tests
isTempStep: true
run: |
    npm install
    npm test
config:
  envVars: []
```
<Image src="/assets/images/applications/custom-step.png" alt="Hello" width={700} height={500}  />

## Build Variables

SkyU Pipelines have a few default steps that are executed in the pipeline. You can configure the build variables for those steps in this section. More details on thhese variables can be found in the [Pipeline Steps](/docs/concepts/pipeline-steps) section.

<Image src="/assets/images/applications/build-variables.png" alt="Hello" width={700} height={500}  />

## Secrets

This section allows you to define the secrets that are required for the pipeline. You can define the secrets in the pipeline configuration and use them in the pipeline steps. 

If you want to edit a secret, simply remove `***` and then add the desired value and press save. Rest of the configuration will remain the same.

If you want to add a secret and use it in the pipeline, you can define the secret in the pipeline configuration and use it as `${{ env.SECRET_NAME }}` in the pipeline steps.


<Image src="/assets/images/applications/pipeline-secrets.png" alt="Hello" width={700} height={500}  />

## Triggers

Triggers are the events that will trigger the pipeline. You can define the triggers for the pipeline in this section. By default, the triggers are set from the trigger configuration you have saved per environment. You can customize the triggers as per your requirements in the pipeline configuration.

<Image src="/assets/images/applications/triggers.png" alt="Hello" width={1000} height={500}  />

| Field    | Description                                                                        |
| -------- | ---------------------------------------------------------------------------------- |
| on       | The event that will trigger the pipeline. `push`, `pull_request`, `schedule`       |
| branches | The branches that will trigger the pipeline. `master`, `develop`, `feature/*`      |
| tags     | The tags that will trigger the pipeline. `v*`                                      |
| types    | The types of events that will trigger the pipeline. `created`, `edited`, `deleted` |
| paths    | The paths that will trigger the pipeline. `src/*`, `test/*`                        |
| schedule | The schedule for the pipeline. `cron(0 0 * * *)`                                   |


If you want to trigger pipeline only on changes to a specific file or directory, please specify the path in the `paths` field.


## YAML

You can view the YAML configuration for the pipeline in this section. You can also edit the YAML configuration directly in this section. 

Please note that the changes made in the YAML configuration will be reflected in the pipeline design as well, however, if you rebuild the pipeline, the custom yaml changes you made will be gone.